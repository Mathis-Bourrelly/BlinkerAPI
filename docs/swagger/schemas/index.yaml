components:
  schemas:
    StandardResponse:
      type: object
      properties:
        success:
          type: boolean
          description: Indique si la requête a réussi
          example: true
        status:
          type: integer
          description: Code de statut HTTP
          example: 200
        message:
          type: string
          description: Message décrivant le résultat de l'opération
          example: "Opération réussie"
        data:
          type: object
          description: Données retournées par l'API
      required:
        - success
        - status

    StandardErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          default: false
          description: Toujours false pour les erreurs
          example: false
        status:
          type: integer
          description: Code de statut HTTP
          example: 400
        message:
          type: string
          description: Message d'erreur
          example: "Données invalides"
        errors:
          type: array
          items:
            type: object
            properties:
              field:
                type: string
                description: Champ concerné par l'erreur
                example: "username"
              message:
                type: string
                description: Message d'erreur spécifique au champ
                example: "Le nom d'utilisateur est requis"
      required:
        - success
        - status
        - message
    Blink:
      type: object
      properties:
        blinkID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        userID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        contents:
          type: array
          items:
            type: object
            properties:
              contentType:
                type: string
                enum: [text, image, video]
                example: "text"
              content:
                type: string
                example: "Contenu du blink"
              position:
                type: integer
                example: 1
        likeCount:
          type: integer
          example: 42
        dislikeCount:
          type: integer
          example: 5
        commentCount:
          type: integer
          example: 10
        shareCount:
          type: integer
          example: 3
        tier:
          type: string
          enum: [none, bronze, silver, gold]
          example: "bronze"
        createdAt:
          type: string
          format: date-time
          example: "2024-03-25T12:00:00Z"
        updatedAt:
          type: string
          format: date-time
          example: "2024-03-25T12:00:00Z"
        profile:
          type: object
          properties:
            display_name:
              type: string
              example: "John Doe"
            username:
              type: string
              example: "john_doe"
            avatar_url:
              type: string
              example: "/uploads/avatar.jpg"
            userID:
              type: string
              format: uuid
              example: "123e4567-e89b-12d3-a456-426614174000"
        isLiked:
          type: boolean
          example: true
          description: Indique si le blink est liké par l'utilisateur courant

    User:
      type: object
      properties:
        userID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        email:
          type: string
          format: email
          example: "user@example.com"
        role:
          type: string
          enum: [user, admin]
          example: "user"
        isVerified:
          type: boolean
          example: true

    Profile:
      type: object
      properties:
        userID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        display_name:
          type: string
          example: "John Doe"
        username:
          type: string
          example: "john_doe"
        bio:
          type: string
          example: "Développeur full-stack passionné"
        avatar_url:
          type: string
          example: "/uploads/avatar.jpg"
        score:
          type: integer
          example: 100
        isFollowing:
          type: boolean
          example: false
          description: "Indique si l'utilisateur courant suit ce profil"

    Conversation:
      type: object
      properties:
        conversationID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        participants:
          type: array
          items:
            type: string
            format: uuid
          example: ["123e4567-e89b-12d3-a456-426614174000", "456e7890-e89b-12d3-a456-426614174000"]
        createdAt:
          type: string
          format: date-time
          example: "2024-05-01T12:00:00Z"
        updatedAt:
          type: string
          format: date-time
          example: "2024-05-01T12:00:00Z"

    ConversationSummary:
      type: object
      properties:
        conversationID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        userID:
          type: string
          format: uuid
          example: "456e7890-e89b-12d3-a456-426614174000"
        username:
          type: string
          example: "johndoe"
        display_name:
          type: string
          example: "John Doe"
        avatar_url:
          type: string
          example: "https://example.com/avatar.jpg"
        lastMessage:
          type: object
          properties:
            content:
              type: string
              example: "Bonjour, comment vas-tu ?"
            createdAt:
              type: string
              format: date-time
              example: "2024-05-01T12:00:00Z"
            read:
              type: boolean
              example: false
            isFromUser:
              type: boolean
              example: false
        unreadCount:
          type: integer
          example: 3

    Message:
      type: object
      properties:
        messageID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        conversationID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        content:
          type: string
          example: "Bonjour, comment vas-tu ?"
        expiresAt:
          type: string
          format: date-time
          example: "2024-06-01T12:00:00Z"
        isRead:
          type: boolean
          example: false
        senderID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
          description: "ID de l'utilisateur qui a envoyé le message"
        createdAt:
          type: string
          format: date-time
          example: "2024-05-01T12:00:00Z"
        sender:
          type: object
          description: "Informations sur l'expéditeur du message"
          properties:
            userID:
              type: string
              format: uuid
              example: "123e4567-e89b-12d3-a456-426614174000"
            email:
              type: string
              format: email
              example: "user@example.com"