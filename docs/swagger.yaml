openapi: 3.0.0
info:
  title: Blinker API
  description: Documentation globale de l'API Blinker
  version: 1.0.0

servers:
  - url: "http://localhost:3011/"
  - url: "https://dev.blinker.eterny.fr/"

tags:
  - name: Blinks
    description: Opérations liées aux Blinks
  - name: Follow
    description: Opérations liées aux abonnements
  - name: Profiles
    description: Opérations liées aux profils utilisateurs
  - name: Users
    description: Gestion des utilisateurs
  - name: Authentification
    description: Gestion des connexions
  - name: Interactions
    description: Gestion des likes et dislikes sur les Blinks

paths:
  # ---------------------------
  # Endpoints Authentication
  # ---------------------------
  /login:
    post:
      tags:
        - Authentification
      summary: Connexion utilisateur
      description: Authentifie un utilisateur avec son email et mot de passe
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - password
              properties:
                email:
                  type: string
                  format: email
                password:
                  type: string
                  format: password
      responses:
        '200':
          description: Connexion réussie
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
        '400':
          description: Données invalides
        '401':
          description: Authentification échouée

  /login/google:
    post:
      tags:
        - Authentification
      summary: Connexion avec Google
      description: Authentifie un utilisateur avec son token Google
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - id_token
              properties:
                id_token:
                  type: string
      responses:
        '200':
          description: Connexion réussie
        '400':
          description: Token invalide
        '401':
          description: Authentification échouée

  /checkToken:
    post:
      tags:
        - Authentification
      summary: Vérification du token
      description: Vérifie la validité du token d'authentification
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - token
              properties:
                token:
                  type: string
      responses:
        '200':
          description: Token valide
        '401':
          description: Token invalide

  # ---------------------------
  # Endpoints Users
  # ---------------------------
  /users/register:
    post:
      tags:
        - Users
      summary: Inscription utilisateur
      description: Crée un nouveau compte utilisateur
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - display_name
                - email
                - password
              properties:
                username:
                  type: string
                display_name:
                  type: string
                bio:
                  type: string
                email:
                  type: string
                  format: email
                password:
                  type: string
                  format: password
      responses:
        '201':
          description: Utilisateur créé avec succès
        '400':
          description: Données invalides
        '409':
          description: Email déjà utilisé

  /users:
    get:
      tags:
        - Users
      summary: Liste des utilisateurs
      description: Récupère la liste de tous les utilisateurs
      responses:
        '200':
          description: Liste des utilisateurs récupérée avec succès
        '500':
          description: Erreur serveur

  /users/{id}:
    get:
      tags:
        - Users
      summary: Détails d'un utilisateur
      description: Récupère les détails d'un utilisateur spécifique
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Détails de l'utilisateur récupérés avec succès
        '404':
          description: Utilisateur non trouvé
    delete:
      tags:
        - Users
      summary: Suppression d'un utilisateur
      description: Supprime un utilisateur spécifique
      security:
        - BearerAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '204':
          description: Utilisateur supprimé avec succès
        '404':
          description: Utilisateur non trouvé
        '403':
          description: Non autorisé

  # ---------------------------
  # Endpoints Profiles
  # ---------------------------
  /profiles:
    post:
      tags:
        - Profiles
      summary: Création d'un profil
      description: Crée un nouveau profil utilisateur
      security:
        - BearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                name:
                  type: string
                username:
                  type: string
                display_name:
                  type: string
                bio:
                  type: string
                avatar:
                  type: string
                  format: binary
      responses:
        '201':
          description: Profil créé avec succès
        '400':
          description: Données invalides

  /profiles/{userID}:
    get:
      tags:
        - Profiles
      summary: Détails d'un profil
      description: Récupère les détails du profil d'un utilisateur
      security:
        - BearerAuth: []
      parameters:
        - name: userID
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Profil récupéré avec succès
        '404':
          description: Profil non trouvé

  # ---------------------------
  # Endpoints Follows
  # ---------------------------
  /follows/{targetUserID}:
    post:
      tags:
        - Follow
      summary: Suivre un utilisateur
      description: Permet de suivre un utilisateur spécifique
      security:
        - BearerAuth: []
      parameters:
        - name: targetUserID
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Abonnement réussi
        '400':
          description: Erreur lors de l'abonnement

  # ---------------------------
  # Endpoints Blinks
  # ---------------------------
  /blinks:
    get:
      tags:
        - Blinks
      summary: Récupérer les blinks avec pagination et filtrage par utilisateur
      description: |
        Récupère une liste paginée de blinks, triés par date de création (du plus récent au plus ancien).
        Possibilité de filtrer les résultats en fonction de l'utilisateur qui a créé le blink.
        Inclut l'information si le blink est liké par l'utilisateur courant.
      security:
        - BearerAuth: [ ]
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Numéro de la page à récupérer.
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Nombre d'éléments par page.
        - name: userId
          in: query
          required: false
          schema:
            type: string
            format: uuid
          description: ID de l'utilisateur pour filtrer les blinks (optionnel).
      responses:
        '200':
          description: Liste paginée des blinks retournée avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  total:
                    type: integer
                    example: 100
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Blink'
        '400':
          description: Requête invalide (ex. paramètre non valide).
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Paramètres de pagination invalides."
        '500':
          description: Erreur interne du serveur.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Erreur interne du serveur"

    post:
      tags:
        - Blinks
      summary: Créer un nouveau Blink
      description: Création d'un Blink avec un contenu, l'utilisateur est déterminé via le token.
      security:
        - BearerAuth: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - contents
              properties:
                contents:
                  type: array
                  items:
                    type: object
                    properties:
                      contentType:
                        type: string
                        enum: [ "text", "image", "video" ]
                        example: "text"
                      content:
                        type: string
                        example: "Ceci est un blink avec du texte."
                      position:
                        type: integer
                        example: 1
      responses:
        '201':
          description: Blink créé avec succès.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Blink'
        '400':
          description: Données invalides.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Données invalides"
        '500':
          description: Erreur interne du serveur.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Erreur interne du serveur"

  /blinks/liked:
    get:
      tags:
        - Blinks
      summary: Récupérer les blinks likés par l'utilisateur courant
      description: |
        Récupère une liste paginée des blinks que l'utilisateur courant a likés.
        Les blinks sont triés par date de création (du plus récent au plus ancien).
      security:
        - BearerAuth: [ ]
      parameters:
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Numéro de la page à récupérer.
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Nombre d'éléments par page.
      responses:
        '200':
          description: Liste paginée des blinks likés retournée avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  total:
                    type: integer
                    example: 50
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Blink'
        '401':
          description: Utilisateur non authentifié.
        '500':
          description: Erreur interne du serveur.

  /blinks/search:
    get:
      tags:
        - Blinks
      summary: Rechercher dans les blinks et les profils d'utilisateurs
      description: |
        Effectue une recherche sur les profils (display_name, username) et les blinks (contenu texte uniquement).
      security:
        - BearerAuth: [ ]
      parameters:
        - name: query
          in: query
          required: true
          schema:
            type: string
          description: Texte à rechercher.
        - name: page
          in: query
          required: false
          schema:
            type: integer
            default: 1
          description: Numéro de la page à récupérer.
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 10
          description: Nombre d'éléments par page.
      responses:
        '200':
          description: Résultats de la recherche.
          content:
            application/json:
              schema:
                type: object
                properties:
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        userID:
                          type: string
                          example: "123e4567-e89b-12d3-a456-426614174000"
                        display_name:
                          type: string
                          example: "John Doe"
                        username:
                          type: string
                          example: "john_doe"
                        avatar_url:
                          type: string
                          example: "https://example.com/avatar.jpg"
                  blinks:
                    type: array
                    items:
                      type: object
                      properties:
                        content:
                          type: string
                          example: "Ceci est un blink intéressant."
                        blink:
                          type: object
                          properties:
                            blinkID:
                              type: string
                              example: "19e4cfbe-ea7d-4733-9b21-25bc6b77578a"
                            createdAt:
                              type: string
                              format: date-time
                            profile:
                              type: object
                              properties:
                                display_name:
                                  type: string
                                  example: "John Doe"
                                username:
                                  type: string
                                  example: "john_doe"
                                avatar_url:
                                  type: string
                                  example: "https://example.com/avatar.jpg"
        '400':
          description: Requête invalide.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Le paramètre 'query' est requis."
        '500':
          description: Erreur interne du serveur.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Erreur interne du serveur"

  /blinks/{blinkID}:
    get:
      tags:
        - Blinks
      summary: Récupérer un blink par ID
      description: Récupère un blink en fonction de son identifiant.
      security:
        - BearerAuth: []
      parameters:
        - name: blinkID
          in: path
          required: true
          schema:
            type: string
          description: ID du blink à récupérer.
      responses:
        '200':
          description: Blink récupéré avec succès.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Blink'
        '404':
          description: Blink non trouvé.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Blink non trouvé"
        '500':
          description: Erreur interne du serveur.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Erreur interne du serveur"
    put:
      tags:
        - Blinks
      summary: Mettre à jour un blink existant
      description: Met à jour les contenus d'un blink.
      security:
        - BearerAuth: []
      parameters:
        - name: blinkID
          in: path
          required: true
          schema:
            type: string
          description: ID du blink à mettre à jour.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - contents
              properties:
                contents:
                  type: array
                  items:
                    type: string
                  example: ["Nouveau contenu"]
      responses:
        '200':
          description: Blink mis à jour avec succès.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Blink'
        '400':
          description: Données invalides.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Données invalides"
        '500':
          description: Erreur interne du serveur.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Erreur interne du serveur"
    delete:
      tags:
        - Blinks
      summary: Supprimer un blink par ID
      description: Supprime un blink en fonction de son identifiant.
      security:
        - BearerAuth: []
      parameters:
        - name: blinkID
          in: path
          required: true
          schema:
            type: string
          description: ID du blink à supprimer.
      responses:
        '204':
          description: Blink supprimé avec succès (aucun contenu renvoyé).
        '500':
          description: Erreur interne du serveur.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Erreur interne du serveur"
  /blinks/remaining-time/{blinkID}:
    get:
      tags:
        - Blinks
      summary: Vérifier la durée de vie restante d'un Blink
      description: Retourne le temps restant avant l'expiration d'un Blink.
      security:
        - BearerAuth: [ ]
      parameters:
        - name: blinkID
          in: path
          required: true
          schema:
            type: string
          description: ID du Blink dont on veut connaître la durée de vie restante.
      responses:
        '200':
          description: Durée de vie restante récupérée avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  blinkID:
                    type: string
                    example: "blink123"
                  remainingTime:
                    type: number
                    example: 43200
        '404':
          description: Blink non trouvé.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Blink non trouvé"
        '500':
          description: Erreur interne du serveur.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Erreur interne du serveur"

  /blinks/expired:
    delete:
      tags:
        - Blinks
      summary: Supprimer manuellement les Blinks expirés
      description: Supprime tous les Blinks dont la durée de vie est écoulée.
      security:
        - BearerAuth: [ ]
      responses:
        '200':
          description: Blinks expirés supprimés avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Blinks expirés supprimés avec succès."
        '500':
          description: Erreur interne du serveur.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Erreur interne du serveur"

  # ---------------------------
  # Endpoints Follow
  # ---------------------------
  /unfollow/{targetUserID}:
    delete:
      tags:
        - Follow
      summary: Se désabonner d'un utilisateur
      description: Permet à un utilisateur authentifié d'arrêter de suivre un autre utilisateur.
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: targetUserID
          required: true
          schema:
            type: string
          description: ID de l'utilisateur à ne plus suivre.
      responses:
        '200':
          description: L'utilisateur a été désabonné avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Désabonnement réussi"
        '400':
          description: Erreur de validation.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Erreur de validation"
        '404':
          description: Utilisateur non trouvé.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Utilisateur non trouvé"

  /follows/followers/{userID}:
    get:
      tags:
        - Follow
      summary: Obtenir la liste des abonnés d'un utilisateur
      description: Renvoie la liste paginée des utilisateurs qui suivent un utilisateur donné, avec des informations simplifiées sur chaque abonné (avatar, nom et nom d'utilisateur).
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: userID
          required: true
          schema:
            type: string
          description: ID de l'utilisateur cible.
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
          description: Numéro de la page à retourner.
        - in: query
          name: limit
          required: false
          schema:
            type: integer
            default: 10
          description: Nombre d'éléments par page.
      responses:
        '200':
          description: Liste paginée des abonnés retournée avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  total:
                    type: integer
                    example: 42
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        avatar_url:
                          type: string
                          example: "https://example.com/avatar.jpg"
                        name:
                          type: string
                          example: "John Doe"
                        username:
                          type: string
                          example: "johndoe"
        '404':
          description: Utilisateur non trouvé.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Utilisateur non trouvé"

  /follows/following/{userID}:
    get:
      tags:
        - Follow
      summary: Obtenir la liste des utilisateurs suivis par un utilisateur
      description: Renvoie la liste paginée des utilisateurs suivis par un utilisateur donné, avec des informations simplifiées sur chaque utilisateur suivi (avatar, nom et nom d'utilisateur).
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: userID
          required: true
          schema:
            type: string
          description: ID de l'utilisateur cible.
        - in: query
          name: page
          required: false
          schema:
            type: integer
            default: 1
          description: Numéro de la page à retourner.
        - in: query
          name: limit
          required: false
          schema:
            type: integer
            default: 10
          description: Nombre d'éléments par page.
      responses:
        '200':
          description: Liste paginée des utilisateurs suivis retournée avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  page:
                    type: integer
                    example: 1
                  limit:
                    type: integer
                    example: 10
                  total:
                    type: integer
                    example: 35
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        avatar_url:
                          type: string
                          example: "https://example.com/avatar.jpg"
                        name:
                          type: string
                          example: "Jane Doe"
                        username:
                          type: string
                          example: "janedoe"
        '404':
          description: Utilisateur non trouvé.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Utilisateur non trouvé"

  # ---------------------------
  # Endpoints Profiles
  # ---------------------------
  /profiles/upload-avatar/{userID}:
    post:
      tags:
        - Profiles
      summary: Uploader un avatar pour un utilisateur
      description: Met à jour l'avatar d'un utilisateur en uploadant une nouvelle image.
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: userID
          schema:
            type: string
            format: uuid
          required: true
          description: UUID de l'utilisateur
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                avatar:
                  type: string
                  format: binary
                  description: Fichier image de l'avatar à uploader.
      responses:
        '200':
          description: Avatar uploadé avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: "Avatar uploaded successfully"
                  avatarUrl:
                    type: string
                    example: "/uploads/avatar.png"
        '400':
          description: Erreur de validation ou fichier manquant.
        '404':
          description: Utilisateur non trouvé.
        '500':
          description: Erreur interne du serveur.

  # ---------------------------
  # Endpoints Users
  # ---------------------------
  /users/send-test-email/:
    post:
      tags:
        - Users
      summary: Envoyer un email de test
      description: Envoie un email de confirmation à l'utilisateur spécifié.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                userID:
                  type: string
                  example: "user123"
                subject:
                  type: string
                  example: "Confirmation de votre compte"
                text:
                  type: string
                  example: "Cliquez sur le lien pour confirmer votre compte."
      responses:
        '200':
          description: E-mail de confirmation envoyé avec succès.
        '400':
          description: Erreur de validation.
        '500':
          description: Erreur lors de l'envoi de l'e-mail.

  /users/grant-admin/{userID}:
    post:
      tags:
        - Users
      summary: Accorder le rôle d'administrateur à un utilisateur
      description: Permet à un administrateur de promouvoir un utilisateur au rôle d'administrateur.
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: userID
          required: true
          schema:
            type: string
            format: uuid
          description: ID de l'utilisateur à promouvoir.
      responses:
        '200':
          description: L'utilisateur a été promu administrateur avec succès.
        '403':
          description: Accès refusé - seul un administrateur peut accorder ce rôle.
        '404':
          description: Utilisateur non trouvé.

  /users/reset-password:
    post:
      tags:
        - Users
      summary: Demander une réinitialisation de mot de passe
      description: Envoie un email de réinitialisation de mot de passe si l'utilisateur existe.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: "user@example.com"
      responses:
        '200':
          description: Email de réinitialisation envoyé si l'utilisateur existe.
        '400':
          description: Validation échouée.
        '404':
          description: Utilisateur non trouvé.

  /users/reset-password/{token}:
    post:
      tags:
        - Users
      summary: Réinitialiser le mot de passe
      description: Permet à un utilisateur de définir un nouveau mot de passe après avoir demandé une réinitialisation.
      security:
        - BearerAuth: []
      parameters:
        - in: path
          name: token
          required: true
          schema:
            type: string
          description: Token de réinitialisation du mot de passe.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                newPassword:
                  type: string
                  example: "SecurePassword123!"
      responses:
        '200':
          description: Mot de passe mis à jour avec succès.
        '400':
          description: Erreur de validation ou token invalide.
        '404':
          description: Utilisateur non trouvé.

  # ---------------------------
  # Endpoints Interactions
  # ---------------------------
  /interactions/like/{postID}:
    post:
      tags:
        - Interactions
      summary: Liker un Blink
      description: |
        Ajoute un like à un Blink ou annule un like existant.
        Si le Blink n'est pas encore liké, ajoute un like.
        Si le Blink est déjà liké, retire le like.
      security:
        - BearerAuth: [ ]
      parameters:
        - name: postID
          in: path
          required: true
          schema:
            type: string
            format: uuid
          description: ID du Blink à liker.
      responses:
        '200':
          description: Like ajouté, supprimé ou mis à jour avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  created:
                    type: boolean
                    example: true
                    description: Indique si un nouveau like a été créé
                  removed:
                    type: boolean
                    example: false
                    description: Indique si un like existant a été supprimé
                  updated:
                    type: boolean
                    example: false
                    description: Indique si un like a été mis à jour (changement de type de réaction)
        '401':
          description: Utilisateur non authentifié.
        '404':
          description: Blink non trouvé.
        '500':
          description: Erreur interne du serveur.

  /interactions/dislike/{postID}:
    post:
      tags:
        - Interactions
      summary: Disliker un Blink
      description: Ajoute un dislike à un Blink ou annule un dislike existant.
      security:
        - BearerAuth: [ ]
      parameters:
        - name: postID
          in: path
          required: true
          schema:
            type: string
          description: ID du Blink à disliker.
      responses:
        '200':
          description: Dislike ajouté, supprimé ou mis à jour avec succès.
          content:
            application/json:
              schema:
                type: object
                properties:
                  created:
                    type: boolean
                    example: true
                  removed:
                    type: boolean
                    example: false
                  updated:
                    type: boolean
                    example: false
        '401':
          description: Utilisateur non authentifié.
        '500':
          description: Erreur interne du serveur.

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    Blink:
      type: object
      properties:
        blinkID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        userID:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        contents:
          type: array
          items:
            type: object
            properties:
              contentType:
                type: string
                enum: [text, image, video]
                example: "text"
              content:
                type: string
                example: "Contenu du blink"
              position:
                type: integer
                example: 1
        likeCount:
          type: integer
          example: 42
        dislikeCount:
          type: integer
          example: 5
        commentCount:
          type: integer
          example: 10
        shareCount:
          type: integer
          example: 3
        tier:
          type: string
          enum: [none, bronze, silver, gold]
          example: "bronze"
        createdAt:
          type: string
          format: date-time
          example: "2024-03-25T12:00:00Z"
        updatedAt:
          type: string
          format: date-time
          example: "2024-03-25T12:00:00Z"
        profile:
          type: object
          properties:
            display_name:
              type: string
              example: "John Doe"
            username:
              type: string
              example: "john_doe"
            avatar_url:
              type: string
              example: "/uploads/avatar.jpg"
            userID:
              type: string
              format: uuid
              example: "123e4567-e89b-12d3-a456-426614174000"
        isLiked:
          type: boolean
          example: true
          description: Indique si le blink est liké par l'utilisateur courant
    User:
      type: object
      properties:
        id:
          type: string
          example: "user123"
        email:
          type: string
          format: email
          example: "user@example.com"
    Profile:
      type: object
      properties:
        userID:
          type: string
          format: uuid
          example: "550e8400-e29b-41d4-a716-446655440000"
        display_name:
          type: string
          example: "John Doe"
        username:
          type: string
          example: "user123"
        bio:
          type: string
          example: "Développeur full-stack passionné."
        avatar_url:
          type: string
          example: "https://example.com/avatar.png"
        score:
          type: integer
          example: 0
